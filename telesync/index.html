<html>
<head>
<title>Properties</title>
<script type="text/javascript" src="jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>
<script type="text/javascript" src="eventBridgeLoader.js"></script>
<script type="text/javascript" src="https://getfirebug.com/firebug-lite.js"></script>
<script>
    window.onload = function() { 
        openEventBridge(function() {
            EventBridge.scriptEventReceived.connect(function(message) {
                writeToTextHolder(message);
            });
        });
    }

    writeToTextHolder = function(message){
        try{
            var parsedMessage = JSON.parse(message);
        }
        catch(e){
            print('error parsing json')
        }
  
            $('#subtitle').text(parsedMessage.text);

    }

    // testClick = function() {
    //     EventBridge.emitWebEvent(["Foo", "Bar", { "baz": 1} ]);
    // }
</script>
</head>

<body class="properties">
    <div id="textHolder">
        <p id="subtitle">Subtitle</p>
</body>

</html>
</body>
